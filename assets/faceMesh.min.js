const a0_0xdc37a7=a0_0x3234;(function(_0x57eaaf,_0x34d4ba){const _0x4bf117=a0_0x3234,_0x501664=_0x57eaaf();while(!![]){try{const _0x23d3e1=parseInt(_0x4bf117(0x185))/0x1*(-parseInt(_0x4bf117(0x154))/0x2)+-parseInt(_0x4bf117(0x166))/0x3+-parseInt(_0x4bf117(0x182))/0x4+parseInt(_0x4bf117(0x15c))/0x5*(parseInt(_0x4bf117(0x197))/0x6)+parseInt(_0x4bf117(0x180))/0x7+-parseInt(_0x4bf117(0x16e))/0x8*(-parseInt(_0x4bf117(0x171))/0x9)+parseInt(_0x4bf117(0x17c))/0xa;if(_0x23d3e1===_0x34d4ba)break;else _0x501664['push'](_0x501664['shift']());}catch(_0x171ec6){_0x501664['push'](_0x501664['shift']());}}}(a0_0x5586,0x7d942));const video2=document[a0_0xdc37a7(0x16f)](a0_0xdc37a7(0x18b))[0x0],out2=document[a0_0xdc37a7(0x16f)](a0_0xdc37a7(0x16b))[0x0],controlsElement2=document[a0_0xdc37a7(0x16f)](a0_0xdc37a7(0x13e))[0x0],timeDisplay=document['getElementById']('time');var canvas=document[a0_0xdc37a7(0x198)](a0_0xdc37a7(0x16c)),ctx=canvas['getContext']('2d');canvas[a0_0xdc37a7(0x143)]=window[a0_0xdc37a7(0x165)],canvas['height']=window[a0_0xdc37a7(0x195)],ctx[a0_0xdc37a7(0x15b)]=a0_0xdc37a7(0x156);let cap,iframe=0x0,frame,timer02,streaming=![];var mediaStream=null;let termCrit,trackPoints,dsize,isMouseActivated=!![],isCursorStopped=![];var windowWidth=document[a0_0xdc37a7(0x13f)]['clientWidth']||document[a0_0xdc37a7(0x145)][a0_0xdc37a7(0x14b)],windowHeight=document[a0_0xdc37a7(0x13f)][a0_0xdc37a7(0x18e)]||document[a0_0xdc37a7(0x145)][a0_0xdc37a7(0x18e)];let utils=new Utils('errorMessage');utils['loadOpenCv'](()=>{const _0x2c69b3=a0_0xdc37a7;cap=new cv[(_0x2c69b3(0x192))](video2),frame=new cv[(_0x2c69b3(0x14f))](video2['height'],video2[_0x2c69b3(0x143)],cv[_0x2c69b3(0x17f)]),termCrit=new cv[(_0x2c69b3(0x173))](cv['TERM_CRITERIA_EPS']|cv[_0x2c69b3(0x13d)],0xa,0x1),trackPoints=new cv['Rect'](windowWidth/0x2,windowHeight/0x2,0x0,0x0);}),utils['printError'](a0_0xdc37a7(0x17e));function a0_0x5586(){const _0x9c88fa=['data','getTracks','querySelector','innerWidth','1924260LlEwlT','stroke','Min\x20Detection\x20Confidence','circle','concat','output2','myCanvas','length','166168jqOEwj','getElementsByClassName','srcObject','342gadvVU','pause','TermCriteria','Stop','center','forEach','stop','onResults','setOptions','cols','multiFaceLandmarks','7410490adBKhh','clicked','Opencv\x20loaded\x20ok!','CV_8UC4','4617802UaxTBQ','height','3529432vuGhFE','click','toggle','242087rOFPjb','tick','minDetectionConfidence','https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh@0.1/','dispatchEvent','textContent','input_video2','then','angle','clientHeight','elementFromPoint','CV_32FC1','timer02\x20is\x20cleared!','VideoCapture','MediaPipe\x20Face\x20Mesh','left','innerHeight','.loading','4548zGiFhx','getElementById','read','TERM_CRITERIA_COUNT','control2','documentElement','imshow','log','selfieMode','width','innerText','body','flip','ontransitionend','add','addEventListener','mediaDevices','clientWidth','Face\x20detection\x20failed!\x20Try\x20again!','./assets/head2.mp4','src','Mat','CamShift','error','getUserMedia','play','2PdBvyK','style','blue','loaded','Start','message','selfie','strokeStyle','595omJTta','classList','display','matFromArray','send','none'];a0_0x5586=function(){return _0x9c88fa;};return a0_0x5586();}const fpsControl=new FPS(),spinner=document[a0_0xdc37a7(0x164)](a0_0xdc37a7(0x196));spinner[a0_0xdc37a7(0x147)]=()=>{const _0x2e2428=a0_0xdc37a7;spinner['style'][_0x2e2428(0x15e)]='none';},video2['style'][a0_0xdc37a7(0x15e)]=a0_0xdc37a7(0x161);const faceMesh=new FaceMesh({'locateFile':_0x7170a7=>{const _0x2504cc=a0_0xdc37a7;return _0x2504cc(0x188)+_0x7170a7;}});new ControlPanel(controlsElement2,{'selfieMode':![],'maxNumFaces':0x1,'minDetectionConfidence':0.5,'minTrackingConfidence':0.5})[a0_0xdc37a7(0x148)]([new StaticText({'title':a0_0xdc37a7(0x193)}),fpsControl,new Toggle({'title':'Selfie\x20Mode','field':a0_0xdc37a7(0x142)}),new Slider({'title':'Max\x20Number\x20of\x20Faces','field':'maxNumFaces','range':[0x1,0x4],'step':0x1}),new Slider({'title':a0_0xdc37a7(0x168),'field':a0_0xdc37a7(0x187),'range':[0x0,0x1],'step':0.01}),new Slider({'title':'Min\x20Tracking\x20Confidence','field':'minTrackingConfidence','range':[0x0,0x1],'step':0.01})])['on'](_0x38765c=>{const _0x52f274=a0_0xdc37a7;video2[_0x52f274(0x15d)][_0x52f274(0x184)](_0x52f274(0x15a),_0x38765c['selfieMode']),faceMesh[_0x52f274(0x179)](_0x38765c);});function mouseClick(_0x1c1d78,_0xdca42d){const _0x352b50=a0_0xdc37a7,_0x4a20af=new MouseEvent(_0x352b50(0x183),{'clientX':_0x1c1d78,'clientY':_0xdca42d});document[_0x352b50(0x189)](_0x4a20af);}const click=(_0x7317d4,_0x16f74f)=>{const _0x3d2349=a0_0xdc37a7,_0x290512=new MouseEvent(_0x3d2349(0x183),{'view':window,'bubbles':!![],'cancelable':!![],'screenX':_0x7317d4,'screenY':_0x16f74f}),_0x3e655d=document[_0x3d2349(0x18f)](_0x7317d4,_0x16f74f);_0x3e655d[_0x3d2349(0x189)](_0x290512);};function a0_0x3234(_0x3bf162,_0xf100f3){const _0x558609=a0_0x5586();return a0_0x3234=function(_0x3234f3,_0x4c8416){_0x3234f3=_0x3234f3-0x13d;let _0x28c5ae=_0x558609[_0x3234f3];return _0x28c5ae;},a0_0x3234(_0x3bf162,_0xf100f3);}function faceTrack(_0x9261f4,_0x37c9cc){const _0x3b1413=a0_0xdc37a7;termCrit['type']=_0x37c9cc,[trackBox,trackPoints]=cv[_0x3b1413(0x150)](frame,_0x9261f4,trackPoints,termCrit),console['log'](trackBox['angle'],trackBox[_0x3b1413(0x175)]['x'],trackBox[_0x3b1413(0x175)]['y'],trackPoints['x']),timeDisplay[_0x3b1413(0x18a)]=iframe+'\x20'+trackBox[_0x3b1413(0x18d)]+'\x20'+trackBox[_0x3b1413(0x175)]['x']+'\x20'+trackBox['center']['y'];if(trackBox[_0x3b1413(0x18d)]>0x3)click(trackBox[_0x3b1413(0x175)]['x'],trackBox['center']['y']),console[_0x3b1413(0x141)](_0x3b1413(0x17d),trackBox[_0x3b1413(0x175)]['x'],trackBox[_0x3b1413(0x175)]['y']);else{if(trackBox['angle']<-0x1)return faceDetection(),-0x1;}!isCursorStopped&&(mCircle[_0x3b1413(0x155)][_0x3b1413(0x194)]=trackBox['center']['x']+'px',mCircle['style']['top']=trackBox[_0x3b1413(0x175)]['y']+'px');cv[_0x3b1413(0x169)](frame,{'x':trackBox['size']['width'],'y':trackBox['size'][_0x3b1413(0x181)]},0x3,[0x0,0xff,0x0,0xff],-0x1),cv[_0x3b1413(0x169)](frame,{'x':trackPoints['x'],'y':trackPoints['y']},0x3,[0x0,0xff,0x0,0xff],-0x1),cv[_0x3b1413(0x169)](frame,{'x':trackPoints[_0x3b1413(0x143)],'y':trackPoints['height']},0x3,[0x0,0xff,0x0,0xff],-0x1),trackPoints['x']=trackBox[_0x3b1413(0x175)]['x'],trackPoints['y']=trackBox[_0x3b1413(0x175)]['y'],cap[_0x3b1413(0x199)](frame),cv['flip'](frame,frame,0x1);if(streaming&&isMouseActivated)timer02=setTimeout(()=>faceTrack(_0x9261f4,0x2),0x14);iframe++;}function onResultsFaceMesh(_0x4d3e21){const _0x536607=a0_0xdc37a7;window['document'][_0x536607(0x145)]['classList']['add'](_0x536607(0x157)),fpsControl['tick']();if(_0x4d3e21[_0x536607(0x17b)])for(const _0x4d7151 of _0x4d3e21[_0x536607(0x17b)]){const _0x2e260d=_0x4d7151['reduce']((_0x1718d5,_0x51be3f)=>_0x1718d5[_0x536607(0x16a)](_0x51be3f['x'],_0x51be3f['y']),[]);let _0x4dc98f=cv['matFromArray'](_0x4d7151[_0x536607(0x16d)],0x2,cv[_0x536607(0x190)],_0x2e260d);faceTrack(_0x4dc98f,0x1);}else console[_0x536607(0x141)]('Face\x20detection\x20failed!\x20Try\x20again!'),setTimeout(faceDetection,0x14);}function onResultsFaceMesh2(_0x45519a){const _0x4bf41e=a0_0xdc37a7;document[_0x4bf41e(0x145)]['classList']['add']('loaded'),fpsControl[_0x4bf41e(0x186)]();if(_0x45519a[_0x4bf41e(0x17b)])for(const _0x53eeb3 of _0x45519a[_0x4bf41e(0x17b)]){const _0x264b9e=_0x53eeb3['reduce']((_0x5b5f7d,_0xed16b9)=>_0x5b5f7d[_0x4bf41e(0x16a)](_0xed16b9['x'],_0xed16b9['y']),[]);let _0x26618a=cv[_0x4bf41e(0x15f)](_0x53eeb3['length'],0x2,cv['CV_32FC1'],_0x264b9e);faceTrack(_0x26618a,0x1);}else console[_0x4bf41e(0x141)](_0x4bf41e(0x14c)),setTimeout(faceDetection,0x14);}faceMesh[a0_0xdc37a7(0x178)](onResultsFaceMesh);function faceDetection(){const _0x344f41=a0_0xdc37a7;cap[_0x344f41(0x199)](frame),cv[_0x344f41(0x146)](frame,frame,0x1);var _0x421d44=new ImageData(new Uint8ClampedArray(frame[_0x344f41(0x162)]),frame[_0x344f41(0x17a)],frame['rows']);faceMesh[_0x344f41(0x160)]({'image':_0x421d44});}async function getMediaStream(){const _0x3251ea=a0_0xdc37a7;var _0x5db034={'audio':![],'video':{'width':{'ideal':0x280},'height':{'ideal':0x1e0}}};try{mediaStream=await navigator[_0x3251ea(0x14a)][_0x3251ea(0x152)](_0x5db034),video2['srcObject']=mediaStream,video2[_0x3251ea(0x153)]()['then'](faceDetection);}catch(_0x47d397){console[_0x3251ea(0x151)](_0x47d397[_0x3251ea(0x159)]);}};function closeCamera(_0x48bf19){const _0x227d09=a0_0xdc37a7;if(mediaStream){let _0x26a644=mediaStream[_0x227d09(0x163)]();_0x26a644[_0x227d09(0x176)](_0x3deec2=>_0x3deec2[_0x227d09(0x177)]()),_0x48bf19[_0x227d09(0x170)]=null,mediaStream=null;}}0x0?(video2[a0_0xdc37a7(0x14e)]=a0_0xdc37a7(0x14d),startAndStop['addEventListener']('click',()=>{const _0x2feb63=a0_0xdc37a7;!streaming?(streaming=!![],video2['play']()[_0x2feb63(0x18c)](faceDetection),startAndStop[_0x2feb63(0x144)]=_0x2feb63(0x174)):(clearTimeout(timer02),video2[_0x2feb63(0x172)](),video2['currentTime']=0x0,console[_0x2feb63(0x141)]('timer02\x20is\x20cleared!',timer02));})):(startAndStop['addEventListener'](a0_0xdc37a7(0x183),()=>{const _0x53b6ce=a0_0xdc37a7;!streaming?(streaming=!![],isMouseActivated=!![],getMediaStream(),startAndStop['innerText']='Stop'):(streaming=![],isMouseActivated=![],startAndStop[_0x53b6ce(0x144)]=_0x53b6ce(0x158),clearTimeout(timer02),console[_0x53b6ce(0x141)](_0x53b6ce(0x191),timer02),closeCamera(video2));}),btnStop[a0_0xdc37a7(0x149)]('click',()=>{const _0x39f762=a0_0xdc37a7;streaming=![],isMouseActivated=![],startAndStop[_0x39f762(0x144)]='Start',clearTimeout(timer02),console['log'](_0x39f762(0x191),timer02),closeCamera(video2);}));